(this["webpackJsonpdexters-coffee"]=this["webpackJsonpdexters-coffee"]||[]).push([[0],{25:function(e,t,c){"use strict";(function(e){var n=c(3),s=c.n(n),a=c(2),r=c(6),i=c(1),l=c(27),j=(c(43),c(5)),o=c.n(j),d=c(0);function b(e){for(var t=new ArrayBuffer(e.length),c=new Uint8Array(t),n=0,s=e.length;n<s;n++)c[n]=e.charCodeAt(n);return t}function h(){return(h=Object(r.a)(s.a.mark((function e(t){var c,n,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"-----BEGIN PRIVATE KEY-----","-----END PRIVATE KEY-----",c=(c=t.replace("-----BEGIN PRIVATE KEY-----","").replace("-----END PRIVATE KEY-----","")).replace(/(\r\n|\n|\r)/gm,""),n=window.atob(c),a=b(n),e.next=8,window.crypto.subtle.importKey("pkcs8",a,{name:"RSASSA-PKCS1-v1_5",hash:"SHA-256"},!0,["sign"]);case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t.a=function(){var t=Object(i.useState)(""),c=Object(a.a)(t,2),n=c[0],j=c[1],b=Object(i.useState)(""),u=Object(a.a)(b,2),O=u[0],x=u[1],m=Object(i.useState)(""),p=Object(a.a)(m,2),f=p[0],v=p[1],N=Object(i.useState)(!1),k=Object(a.a)(N,2),g=k[0],S=k[1],y=Object(i.useState)(""),E=Object(a.a)(y,2),w=E[0],A=E[1],T=Object(i.useState)(!1),C=Object(a.a)(T,2),P=C[0],K=C[1],R=function(e){j("name"==e.target.name?e.target.value:n),x("amount"==e.target.name?e.target.value:O),v("privateKey"==e.target.name?e.target.value:f)},B=function(){var e=Object(r.a)(s.a.mark((function e(t){var c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),(c=new FileReader).onload=function(){var e=Object(r.a)(s.a.mark((function e(t){var c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=t.target.result,v(c);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c.readAsText(t.target.files[0]);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(d.jsx)("div",{className:"payment-container",children:Object(d.jsxs)("form",{onSubmit:function(t){if(t.preventDefault(),!g)if(isNaN(O)||isNaN(parseFloat(O))||""==n.trim())alert("Invalid format");else{var c=Object(l.a)(),s={name:n,amount:O,tid:c};(function(e){return h.apply(this,arguments)})(f).then((function(t){S(!0);var a=JSON.stringify(s);console.log(a),window.crypto.subtle.sign({name:"RSASSA-PKCS1-v1_5"},t,e.from(a)).then((function(e){var t=btoa(String.fromCharCode.apply(null,new Uint8Array(e)));console.log("Final Signature:",t);var s={customer:n,tid:c,amount:O,message:a,signature:t};o.a.post("/api/addTransaction",s).then((function(e){console.log(e),j(""),x(0),S(!1),A(e.data.message),K(!e.data.error||!0)})).catch((function(e){console.log(e),S(!1),A("An error occurred"),K(!1)}))})).catch((function(e){alert("Error in reading private key file. Please make sure that the file is in the proper format.")}))})).catch((function(e){alert("Error in reading private key file. Please make sure that the file is in the proper format.")}))}},children:[Object(d.jsx)("h2",{children:"Add a Transaction"}),Object(d.jsx)("br",{}),Object(d.jsx)("div",{className:"payment-header",children:"CUSTOMER NAME"}),Object(d.jsx)("div",{className:"payment-input-container",children:Object(d.jsx)("input",{width:"pixels",className:"payment-input",value:n,onChange:R,name:"name"})}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)("div",{className:"payment-header",children:"AMOUNT"}),Object(d.jsx)("div",{className:"payment-input-container",children:Object(d.jsx)("input",{width:"pixels",className:"payment-input",value:O,onChange:R,name:"amount"})}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)("div",{className:"payment-header",children:"YOUR PRIVATE KEY"}),Object(d.jsx)("input",{type:"file",onChange:B}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)("div",{className:"payment-button-container",children:Object(d.jsx)("button",{className:"submit-button",type:"submit",children:g?"Submitting...":"Submit"})}),Object(d.jsx)("br",{}),Object(d.jsx)("div",{className:"status-indicator "+(P?"success":"failure"),children:g?"":w})]})})}}).call(this,c(12).Buffer)},26:function(e,t,c){"use strict";(function(e){var n=c(3),s=c.n(n),a=c(2),r=c(6),i=c(1),l=c(5),j=c.n(l),o=c(27),d=c(0);t.a=function(){function t(e){for(var t=new ArrayBuffer(e.length),c=new Uint8Array(t),n=0,s=e.length;n<s;n++)c[n]=e.charCodeAt(n);return t}function c(){return(c=Object(r.a)(s.a.mark((function e(c){var n,a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"-----BEGIN PRIVATE KEY-----","-----END PRIVATE KEY-----",n=(n=c.replace("-----BEGIN PRIVATE KEY-----","").replace("-----END PRIVATE KEY-----","")).replace(/(\r\n|\n|\r)/gm,""),a=window.atob(n),r=t(a),e.next=8,window.crypto.subtle.importKey("pkcs8",r,{name:"RSASSA-PKCS1-v1_5",hash:"SHA-256"},!0,["sign"]);case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var n=Object(i.useState)(""),l=Object(a.a)(n,2),b=l[0],h=l[1],u=Object(i.useState)(0),O=Object(a.a)(u,2),x=O[0],m=O[1],p=Object(i.useState)(""),f=Object(a.a)(p,2),v=f[0],N=f[1],k=Object(i.useState)(!1),g=Object(a.a)(k,2),S=g[0],y=g[1],E=Object(i.useState)(""),w=Object(a.a)(E,2),A=w[0],T=w[1],C=Object(i.useState)(!1),P=Object(a.a)(C,2),K=P[0],R=P[1],B=function(e){h("name"==e.target.name?e.target.value:b),m("stake"==e.target.name?e.target.value:x),N("privateKey"==e.target.name?e.target.value:v)},I=function(){var e=Object(r.a)(s.a.mark((function e(t){var c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),(c=new FileReader).onload=function(){var e=Object(r.a)(s.a.mark((function e(t){var c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=t.target.result,N(c);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c.readAsText(t.target.files[0]);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(d.jsxs)("div",{children:[Object(d.jsxs)("form",{onSubmit:function(t){if(t.preventDefault(),!S)if(isNaN(x)||isNaN(parseFloat(x))||""==b.trim())alert("Invalid format");else{var n=Object(o.a)(),s={node_name:b,stake:x,node_id:n};(function(e){return c.apply(this,arguments)})(v).then((function(t){y(!0);var c=JSON.stringify(s);console.log(c),window.crypto.subtle.sign({name:"RSASSA-PKCS1-v1_5"},t,e.from(c)).then((function(e){var t=btoa(String.fromCharCode.apply(null,new Uint8Array(e)));console.log("Final Signature:",t);var s={node_name:b,stake:x,message:c,node_id:n,signature:t};j.a.post("/api/addNode",s).then((function(e){console.log(e),h(""),m(0),y(!1),T(e.data.message),R(!e.data.error||!0)})).catch((function(e){console.log(e.response),y(!1),T(e.response.data.message||"An error occurred"),R(!1)}))})).catch((function(e){alert("Error in reading private key file. Please make sure that the file is in the proper format.")}))})).catch((function(e){alert("Error in reading private key file. Please make sure that the file is in the proper format.")}))}},children:[Object(d.jsx)("h2",{children:"Add a Node"}),Object(d.jsx)("br",{}),Object(d.jsx)("div",{className:"node-header",children:"NODE NAME"}),Object(d.jsx)("div",{className:"node-input-container",children:Object(d.jsx)("input",{width:"pixels",className:"node-input",value:b,onChange:B,name:"name"})}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)("div",{className:"node-header",children:"STAKE"}),Object(d.jsx)("div",{className:"node-input-container",children:Object(d.jsx)("input",{width:"pixels",className:"node-input",value:x,onChange:B,name:"stake"})}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)("div",{className:"node-header",children:"YOUR PRIVATE KEY"}),Object(d.jsx)("input",{type:"file",onChange:I}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)("div",{className:"node-button-container",children:Object(d.jsx)("button",{className:"submit-button",type:"submit",children:S?"Submitting...":"Submit"})}),Object(d.jsx)("br",{}),Object(d.jsx)("div",{className:"status-indicator "+(K?"success":"failure"),children:S?"":A})]}),Object(d.jsx)("br",{})]})}}).call(this,c(12).Buffer)},33:function(e,t,c){},34:function(e,t,c){},36:function(e,t,c){},37:function(e,t,c){},43:function(e,t,c){},63:function(e,t,c){},64:function(e,t,c){},77:function(e,t,c){},78:function(e,t,c){"use strict";c.r(t);var n=c(1),s=c.n(n),a=c(24),r=c.n(a),i=(c(33),c(2)),l=(c(34),c(0));var j=function(){return Object(l.jsx)("div",{className:"navbar-container",children:Object(l.jsx)("h2",{children:"Dexter's Coffee"})})};c(36),c(37);var o=function(e){var t=Object(n.useState)(0),c=Object(i.a)(t,2),s=c[0],a=c[1],r=function(e){return"selector-item "+(e==s?"selected":"")};return Object(l.jsxs)("div",{className:"selector-container",children:[Object(l.jsx)("div",{className:r(0),onClick:function(){a(0),e.setSelected(0)},children:"PAYMENT"}),Object(l.jsx)("div",{className:r(1),onClick:function(){a(1),e.setSelected(1)},children:"PoS"}),Object(l.jsx)("div",{className:r(2),onClick:function(){a(2),e.setSelected(2)},children:"EXPLORER"})]})},d=c(25);c(63),c(64);var b=function(e){var t;return Object(l.jsxs)("div",{className:"block-container "+(e.selected?"selected":""),onClick:function(t){console.log("block clicked"),e.setSelected(e.index)},children:[Object(l.jsx)("div",{className:"title-header",children:0==e.block.block_height?"GENESIS BLOCK":"BLOCK"}),Object(l.jsx)("div",{className:"title",children:"Block #"+e.block.block_height}),Object(l.jsxs)("div",{className:"content",children:["Hash: ",Object(l.jsx)("span",{children:e.block.block_hash}),Object(l.jsx)("br",{})]}),Object(l.jsxs)("div",{className:"content",children:["Prev: ",Object(l.jsx)("span",{children:e.block.previous_block_hash||"N/A"}),Object(l.jsx)("br",{})]}),Object(l.jsxs)("div",{className:"content",children:["Merkle: ",Object(l.jsx)("span",{children:e.block.merkleRoot||"asdf"}),Object(l.jsx)("br",{})]}),Object(l.jsxs)("div",{className:"content",children:["Time: ",(t=e.block.timestamp,new Date(1e3*t).toLocaleString()),Object(l.jsx)("br",{})]})]})},h=c(5),u=c.n(h),O=c(8),x=c.n(O);c(23);var m=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),c=t[0],s=t[1],a=Object(n.useState)(0),r=Object(i.a)(a,2),j=r[0],o=r[1],d=Object(n.useState)([]),h=Object(i.a)(d,2),O=h[0],m=h[1],p=Object(n.useState)(!1),f=Object(i.a)(p,2),v=f[0],N=f[1],k=Object(n.useState)(!1),g=Object(i.a)(k,2),S=g[0],y=g[1];Object(n.useEffect)((function(){A()}),[c,j]),Object(n.useEffect)((function(){E()}),[]);var E=function(){u.a.get("/api/viewBlocks").then((function(e){console.log(e.data),s(e.data)})).catch((function(e){}))},w=function(e){return new Date(1e3*e).toLocaleString()},A=function(){null!=c[0]&&u.a.post("/api/viewTransactions",{block_hash:c[j].block_hash}).then((function(e){m(e.data)}))};return Object(l.jsxs)("div",{className:"explorer-container",children:[Object(l.jsxs)("div",{className:"verify-button-label",children:[Object(l.jsx)("h4",{onClick:function(e){e.preventDefault(),y(!0),u.a.get("/api/verifyBlocks").then((function(e){y(!1),e.data.error||alert("Success")})).catch((function(e){y(!1),alert("Error")}))},children:S?"Verifying...":"Verify Blockchain"}),Object(l.jsx)("h4",{onClick:function(e){v||(e.preventDefault(),N(!0),console.log("verify clicked"),u.a.get("/api/verifyTransaction").then((function(e){console.log(e),E(),N(!1)})).catch((function(e){console.log(e),N(!1)})))},children:v?"Creating...":"+ Create Block"})]}),Object(l.jsx)(x.a,{responsive:{superLargeDesktop:{breakpoint:{max:4e3,min:3e3},items:5},desktop:{breakpoint:{max:3e3,min:1024},items:3},tablet:{breakpoint:{max:1024,min:464},items:2},mobile:{breakpoint:{max:464,min:0},items:1}},containerClass:"main-blocks-container",children:c.map((function(e,t){return Object(l.jsx)("div",{className:"main-block-container",children:Object(l.jsx)(b,{block:e,selected:t==j,index:t,setSelected:o})})}))}),Object(l.jsx)("br",{}),Object(l.jsx)("br",{}),Object(l.jsxs)("div",{className:"main-block-content",children:[Object(l.jsx)("div",{className:"main-block-header",children:null==c[j]||0==c[j].block_height?"GENESIS BLOCK":"BLOCK"}),Object(l.jsx)("div",{className:"main-block-title",children:"Block #"+(null==c[j]?"1":c[j].block_height)}),Object(l.jsx)("br",{}),Object(l.jsx)("div",{className:"main-block-content-label height",children:"Height: "+(null==c[j]?"1":c[j].block_height)}),Object(l.jsx)("div",{className:"main-block-content-label hash",children:"Hash: "+(null==c[j]?"2":c[j].block_hash)}),Object(l.jsx)("div",{className:"main-block-content-label prev",children:"Previous Hash: "+(null==c[j]?"2":c[j].previous_block_hash)}),Object(l.jsx)("div",{className:"main-block-content-label time",children:"Time: "+(null==c[j]?"0":w(c[j].timestamp))}),Object(l.jsx)("br",{}),Object(l.jsx)("div",{className:"main-block-title",children:"Transactions"}),Object(l.jsxs)("table",{className:"main-block-transactions-table",children:[Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{children:"Transaction ID"}),Object(l.jsx)("th",{children:"Customer Name"}),Object(l.jsx)("th",{children:"Amount"}),Object(l.jsx)("th",{children:"Time"})]}),O.map((function(e){return Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{children:e.tid}),Object(l.jsx)("td",{children:e.customer}),Object(l.jsx)("td",{children:e.amount}),Object(l.jsx)("td",{children:w(e.timestamp)})]})}))]})]})]})},p=(c(77),c(26));var f=function(){return Object(l.jsxs)("div",{className:"pos-main-container",children:[Object(l.jsxs)("div",{className:"nodes-container",children:[Object(l.jsx)("h2",{children:"PoS Nodes"}),Object(l.jsxs)(x.a,{responsive:{superLargeDesktop:{breakpoint:{max:4e3,min:3e3},items:5},desktop:{breakpoint:{max:3e3,min:1024},items:3},tablet:{breakpoint:{max:1024,min:464},items:2},mobile:{breakpoint:{max:464,min:0},items:1}},containerClass:"pos-nodes-list-container",children:[Object(l.jsxs)("div",{className:"pos-node-container",children:[Object(l.jsx)("h3",{children:"Test Node 1"}),Object(l.jsx)("p",{children:"Test"})]}),Object(l.jsxs)("div",{className:"pos-node-container selected",children:[Object(l.jsx)("h3",{children:"Test Node 1"}),Object(l.jsx)("p",{children:"Test"})]}),Object(l.jsxs)("div",{className:"pos-node-container",children:[Object(l.jsx)("h3",{children:"Test Node 1"}),Object(l.jsx)("p",{children:"Test"})]}),Object(l.jsxs)("div",{className:"pos-node-container",children:[Object(l.jsx)("h3",{children:"Test Node 1"}),Object(l.jsx)("p",{children:"Test"})]})]}),Object(l.jsx)("br",{}),Object(l.jsxs)("div",{className:"selected-node-details-container",children:[Object(l.jsx)("h2",{className:"node-title",children:"Test Node 1"}),Object(l.jsxs)("table",{className:"node-stake-table",children:[Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{children:"Block Hash"}),Object(l.jsx)("th",{children:"Timestamp"}),Object(l.jsx)("th",{children:"Stake Before"}),Object(l.jsx)("th",{children:"Reward/Penalty"})]}),Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{children:"asfsdf"}),Object(l.jsx)("td",{children:"12th October, 2021"}),Object(l.jsx)("td",{children:"32"}),Object(l.jsx)("td",{children:Object(l.jsx)("span",{className:"success",children:" +1.4 (+4.3%)"})})]}),Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{children:"gdffd"}),Object(l.jsx)("td",{children:"13th October, 2021"}),Object(l.jsx)("td",{children:"32"}),Object(l.jsx)("td",{children:Object(l.jsx)("span",{className:"failure",children:"-1.4 (-4.2%)"})})]}),Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{children:"gdd"}),Object(l.jsx)("td",{children:"14th October, 2021"}),Object(l.jsx)("td",{children:"32"}),Object(l.jsx)("td",{children:Object(l.jsx)("span",{className:"success",children:"+3 (+9.4%)"})})]}),Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{children:"asfsdf"}),Object(l.jsx)("td",{children:"12th October, 2021"}),Object(l.jsx)("td",{children:"32"}),Object(l.jsx)("td",{children:Object(l.jsx)("span",{className:"success",children:" +1.4 (+4.3%)"})})]}),Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{children:"gdffd"}),Object(l.jsx)("td",{children:"13th October, 2021"}),Object(l.jsx)("td",{children:"32"}),Object(l.jsx)("td",{children:Object(l.jsx)("span",{className:"failure",children:"-1.4 (-4.2%)"})})]}),Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{children:"gdd"}),Object(l.jsx)("td",{children:"14th October, 2021"}),Object(l.jsx)("td",{children:"32"}),Object(l.jsx)("td",{children:Object(l.jsx)("span",{className:"success",children:"+3 (+9.4%)"})})]}),Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{colSpan:"3",children:"Initial Stake"}),Object(l.jsx)("td",{children:"32"})]}),Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{colSpan:"3",children:"Final Stake"}),Object(l.jsxs)("td",{children:["35 ",Object(l.jsx)("span",{className:"success",children:"(+9.3%)"})]})]})]})]})]}),Object(l.jsx)("div",{className:"add-node-container",children:Object(l.jsx)(p.a,{})})]})};var v=function(){var e=Object(n.useState)(0),t=Object(i.a)(e,2),c=t[0],s=t[1];return Object(l.jsxs)("div",{className:"App",children:[Object(l.jsx)(j,{}),Object(l.jsx)(o,{setSelected:s}),0==c?Object(l.jsx)(d.a,{}):1==c?Object(l.jsx)(f,{}):Object(l.jsx)(m,{})]})};r.a.render(Object(l.jsx)(s.a.StrictMode,{children:Object(l.jsx)(v,{})}),document.getElementById("root"))}},[[78,1,2]]]);
//# sourceMappingURL=main.4dc3b1c7.chunk.js.map